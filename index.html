<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />

    <!-- SEO -->
    <title>Destigo | Gu√≠a de Viajes por Pa√≠ses</title>
    <meta
      name="description"
      content="Descubre pa√≠ses, planifica tu viaje, compara vuelos, hoteles y guarda tus viajes con Destigo."
    />

    <!-- Bootstrap (SIN CSS PROPIO) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- ===================== MEN√ö ===================== -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">Destigo</a>

        <button
          class="navbar-toggler"
          data-bs-toggle="collapse"
          data-bs-target="#menu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div id="menu" class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#paises">Pa√≠ses</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#news">Noticias</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="loginLink">Login</a>
            </li>
            <li class="nav-item ms-3">
              <!-- Botones de idioma -->
              <button
                class="btn btn-outline-light btn-sm me-1"
                onclick="setLanguage('es')"
              >
                ES
              </button>
              <button
                class="btn btn-outline-light btn-sm"
                onclick="setLanguage('en')"
              >
                EN
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- ===================== PORTADA ===================== -->
    <div class="container text-center mt-5">
      <h1 id="mainTitle">Descubre el mundo con Destigo üåç</h1>
      <p class="lead" id="mainSubtitle">
        Gu√≠a de viajes por pa√≠ses. Compara vuelos, hoteles y organiza tu viaje
        f√°cilmente.
      </p>

      <a href="#paises" class="btn btn-primary btn-lg" id="viewCountriesBtn">
        Ver pa√≠ses
      </a>
    </div>

    <!-- ===================== SECCI√ìN DE PA√çSES ===================== -->
    <div id="paises" class="container mt-5">
      <h2 class="text-center mb-4" id="countriesTitle">Pa√≠ses populares</h2>

      <div class="row">
        <!-- Espa√±a -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <img src="https://flagcdn.com/w640/es.png" class="card-img-top" />
            <div class="card-body text-center">
              <h5 class="card-title">Espa√±a</h5>
              <p class="card-text">Playas, cultura y gastronom√≠a.</p>
              <a href="paises/espana.html" class="btn btn-primary mb-2"
                >Ver gu√≠a</a
              >
              <button
                class="btn btn-success mark-visited"
                data-country="Espa√±a"
              >
                He visitado
              </button>
            </div>
          </div>
        </div>

        <!-- Italia -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <img src="https://flagcdn.com/w640/it.png" class="card-img-top" />
            <div class="card-body text-center">
              <h5 class="card-title">Italia</h5>
              <p class="card-text">Historia, arte y comida incre√≠ble.</p>
              <a href="paises/italia.html" class="btn btn-primary mb-2"
                >Ver gu√≠a</a
              >
              <button
                class="btn btn-success mark-visited"
                data-country="Italia"
              >
                He visitado
              </button>
            </div>
          </div>
        </div>

        <!-- Francia -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <img src="https://flagcdn.com/w640/fr.png" class="card-img-top" />
            <div class="card-body text-center">
              <h5 class="card-title">Francia</h5>
              <p class="card-text">Par√≠s, vino y monumentos.</p>
              <a href="paises/francia.html" class="btn btn-primary mb-2"
                >Ver gu√≠a</a
              >
              <button
                class="btn btn-success mark-visited"
                data-country="Francia"
              >
                He visitado
              </button>
            </div>
          </div>
        </div>

        <!-- Puedes a√±adir m√°s pa√≠ses siguiendo el mismo patr√≥n -->
      </div>
    </div>

    <!-- ===================== NOTICIAS ===================== -->
    <div id="news" class="container mt-5">
      <h2 class="text-center mb-4" id="newsTitle">Noticias de hoy üì∞</h2>
      <ul id="newsList" class="list-group">
        <!-- Noticias se llenar√°n con JS -->
      </ul>
    </div>

    <!-- ===================== PIE DE P√ÅGINA ===================== -->
    <footer class="bg-dark text-white text-center p-3 mt-5">
      <p>¬© 2026 Destigo | Gu√≠a de viajes</p>
    </footer>

    <!-- ===================== JS BOOTSTRAP ===================== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- ===================== JS COMPLETO ===================== -->
    <script>
      // ===================== LOGIN / DASHBOARD =====================
      const loginLink = document.getElementById("loginLink");
      loginLink.addEventListener("click", () => {
        const user = localStorage.getItem("destigoUser");
        if (user) {
          window.location.href = "dashboard.html"; // ya logueado
        } else {
          window.location.href = "login.html"; // no logueado
        }
      });

      // ===================== MARCAR PA√çSES VISITADOS =====================
      const markButtons = document.querySelectorAll(".mark-visited");

      markButtons.forEach((btn) => {
        const country = btn.getAttribute("data-country");

        // Deshabilitar si ya visitado
        let visited =
          JSON.parse(localStorage.getItem("visitedCountries")) || [];
        if (visited.includes(country)) {
          btn.disabled = true;
          btn.textContent = "Visitado";
        }

        btn.addEventListener("click", () => {
          const user = localStorage.getItem("destigoUser");
          if (!user) {
            alert("Debes iniciar sesi√≥n para marcar pa√≠ses visitados.");
            window.location.href = "login.html";
            return;
          }

          let visited =
            JSON.parse(localStorage.getItem("visitedCountries")) || [];
          if (!visited.includes(country)) {
            visited.push(country);
            localStorage.setItem("visitedCountries", JSON.stringify(visited));
            btn.disabled = true;
            btn.textContent = "Visitado";
            alert(`¬°${country} marcado como visitado!`);
          }
        });
      });

      // ===================== NOTICIAS DIARIAS =====================
      const newsList = document.getElementById("newsList");

      const newsToday = [
        "Nueva ruta directa Madrid ‚Äì Tokio disponible hoy.",
        "Descuentos en hoteles de Roma este fin de semana.",
        "Renfe baja precios en trenes nacionales para viajeros frecuentes.",
        "Italia lanza campa√±a de turismo sostenible.",
        "Espa√±a anuncia nuevas experiencias culturales en ciudades principales.",
      ];

      if (newsList) {
        newsToday.forEach((news) => {
          const li = document.createElement("li");
          li.textContent = news;
          li.className = "list-group-item";
          newsList.appendChild(li);
        });
      }

      // ===================== MULTI-IDIOMA B√ÅSICO =====================
      let lang = localStorage.getItem("destigoLang") || "es";

      function setLanguage(language) {
        localStorage.setItem("destigoLang", language);
        location.reload(); // recarga para cambiar textos
      }

      // ===================== CAMBIO DE TEXTOS SEG√öN IDIOMA =====================
      const texts = {
        es: {
          mainTitle: "Descubre el mundo con Destigo üåç",
          mainSubtitle:
            "Gu√≠a de viajes por pa√≠ses. Compara vuelos, hoteles y organiza tu viaje f√°cilmente.",
          viewCountriesBtn: "Ver pa√≠ses",
          countriesTitle: "Pa√≠ses populares",
          newsTitle: "Noticias de hoy üì∞",
        },
        en: {
          mainTitle: "Discover the world with Destigo üåç",
          mainSubtitle:
            "Travel guide by countries. Compare flights, hotels and organize your trip easily.",
          viewCountriesBtn: "View countries",
          countriesTitle: "Popular Countries",
          newsTitle: "Today's News üì∞",
        },
      };

      document.getElementById("mainTitle").textContent = texts[lang].mainTitle;
      document.getElementById("mainSubtitle").textContent =
        texts[lang].mainSubtitle;
      document.getElementById("viewCountriesBtn").textContent =
        texts[lang].viewCountriesBtn;
      document.getElementById("countriesTitle").textContent =
        texts[lang].countriesTitle;
      document.getElementById("newsTitle").textContent = texts[lang].newsTitle;
    </script>
  </body>
</html>
